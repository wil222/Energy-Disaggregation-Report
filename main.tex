\documentclass{eplmastersthesis}
\usepackage{tikz}
\usetikzlibrary{calc,trees,positioning,arrows,chains,shapes.geometric,%
    decorations.pathreplacing,decorations.pathmorphing,shapes,%
    matrix,shapes.symbols}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15}
\usepackage[siunitx]{circuitikz}
\usepackage[]{tocbibind}
\usepackage{tocloft}
%\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
%\usepackage[style=verbose]{biblatex}
\usepackage[title, titletoc]{appendix}
\usepackage{wrapfig}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{listings}
\usepackage[acronym,toc]{glossaries}

%\usepackage{refcheck}
%\renewcommand{\includegraphics}[2][]{\fbox{#2}}
%\renewenvironment{tikzpicture}{}{}
%\renewenvironment{circuitikz}{}{}
\renewcommand{\baselinestretch}{1.1}

\graphicspath{{./img/}}

\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={red!50!black},
    urlcolor={blue!50!black}
}

\lstset{%
  basicstyle=\footnotesize\ttfamily,
  frame=single,
  morecomment=[l][\color{red!75!black}]{//},
}

\setlength{\headheight}{13.6pt}
\makeatletter
\fancypagestyle{plain}{}
\fancyhf{}
\fancyhead[L]{\textsc{William André}}
\fancyhead[R]{\textsc{\@title, \@subtitle}}
\rfoot{Page \thepage \hspace{1pt} of \pageref{LastPage}}
\fancypagestyle{preamble}{%
    \fancyhf{}
    \fancyhead[L]{\textsc{William André}}
    \fancyhead[R]{\textsc{\@title, \@subtitle}}
    \rfoot{Page \thepage}
}
\fancypagestyle{appendix}{%
    \fancyhf{}
    \fancyhead[L]{\textsc{William André}}
    \fancyhead[R]{\textsc{\@title, \@subtitle}}
    \rfoot{Page \thepage \hspace{1pt} of \pageref{AlmostVeryLastPage}}
}
\fancypagestyle{references}{%
    \fancyhf{}
    \fancyhead[L]{\textsc{William André}}
    \fancyhead[R]{\textsc{\@title, \@subtitle}}
    \rfoot{Page \thepage \hspace{1pt} of \pageref{VeryLastPage}}
}
\makeatother


\makeatletter
\def\@makechapterhead#1{%
  %%%%\vspace*{50\p@}% %%% removed!
  {\parindent \z@ \raggedright \normalfont
    \ifnum \c@secnumdepth >\m@ne
        \huge\bfseries \@chapapp\space \thechapter
        \par\nobreak
        \vskip 10\p@
    \fi
    \interlinepenalty\@M
    \Huge \bfseries #1\par\nobreak
    \vskip 40\p@
  }}
\def\@makeschapterhead#1{%
  %%%%%\vspace*{50\p@}% %%% removed!
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \Huge \bfseries  #1\par\nobreak
    \vskip 40\p@
  }}
\makeatother

\AtBeginDocument{\addtocontents{toc}{\protect\thispagestyle{preamble}}} 
\AtBeginDocument{\addtocontents{acn}{\protect\thispagestyle{preamble}}} 

%\setlength{\cftbeforetoctitleskip}{0em}
 

\usepackage{hyperref}
\hypersetup{
    unicode=false,          % non-Latin characters in Acrobat’s bookmarks
    colorlinks=false,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\newcommand{\listequationsname}{List of Equations}
\newlistof{myequations}{equ}{\listequationsname}
\newcommand{\myequations}[1]{%
\addcontentsline{equ}{myequations}{\protect\qquad\numberline{\hspace{-0.5em}\theequation}\quad#1}\par}

\makeglossaries
\newacronym{nilm}{NILM}{Non Intrusive Load Monitoring}
\newacronym{redd}{REDD}{Reference Energy Disaggregation Data Set}
\newacronym{smps}{SMPS}{Switch Mode Power Supply}
\newacronym{ac}{AC}{Alternative Current}
\newacronym{dea}{DEA}{Denoising AutoEncoder}
\newacronym{fhmm}{FHMM}{Factorial Hidden Markov Chain}
\newacronym{hmm}{HMM}{Hidden Markov Chain}
\newacronym{hlmrf}{HL-MRF}{Hinge Loss Markov Random Field}
\newacronym{annlm}{ANN-LM}{Artificial Neural Network with Levenberg-Marquard}
\newacronym{annea}{ANN-EA}{Artificial Neural Network with evolutionary algorithm}
\newacronym{svm}{SVM}{Support Vector Machine}
\newacronym{adaboost}{AdaBoost}{Adaptive Boost}
\newacronym{emi}{EMI}{Electromagnetic Interference}
\newacronym{esr}{ESR}{Equivalent Series Resistance}
\newacronym{esl}{ESL}{Equivalent Series Inductance}
\newacronym{ft}{FT}{Fourier Transform}
\newacronym{fft}{FFT}{Fast Fourier Transform}
\newacronym{rfft}{rFFT}{Real Fast Fourier Transform}
\newacronym{dft}{DFT}{Discrete Fourier Transform}
\newacronym{lti}{LTI}{Linear Time Invariant}
\newacronym{gpu}{GPU}{Graphic Processing Unit}
\newacronym{cpu}{CPU}{Central Processing Unit}
\newacronym{pli}{PLI}{Power Line Interface}
\newacronym{usrp}{USRP}{Universal Software Radio Peripheral}
\newacronym{knn}{k-NN}{K-Nearest Neighbors}
\newacronym{cfl}{CFL}{Compact Fluorescent Lamp}
\newacronym{cli}{CLI}{Command Line Interface}
\newacronym{gui}{GUI}{Graphical User Interface}

\hyphenation{op-tical net-works semi-conduc-tor}
\renewcommand*{\glsgroupskip}{}
%\patchcmd{\chapter}{plain}{empty}{}{}
\begin{document}

\pagenumbering{Roman}
\input{src/Title.tex}
%\thispagestyle{empty}		% To suppress header and footer on the back of the cover page

\begin{abstract}
The energy disaggregation is an abstract abstraction abstracting the abstract abstrat...
\vspace*{3cm}
\section*{Acknowledgements}
The author would like to thank professor Pierre Schauss for his guidance.
\end{abstract}

%\begin{IEEEkeywords}
%Disaggregation, Energy, NILM
%\end{IEEEkeywords}

\setcounter{tocdepth}{1}
\tableofcontents\thispagestyle{preamble}
\newpage\listoffigures\thispagestyle{preamble}
\newpage\listofmyequations\thispagestyle{preamble}
\addcontentsline{toc}{chapter}{\listequationsname}
\newpage\printglossary[type=\acronymtype,title=List of acronyms]\printglossary\thispagestyle{preamble}
\newpage

\pagenumbering{arabic}
\pagestyle{fancy}

\input{src/Introduction.tex}\thispagestyle{fancy}
\newpage\input{src/Background.tex}\thispagestyle{fancy}
\newpage\input{src/Requirements.tex}\thispagestyle{fancy}
\newpage\input{src/Opensource.tex}\thispagestyle{fancy}
\newpage\input{src/Implementation.tex}\thispagestyle{fancy}
\newpage\input{src/Usage.tex}\thispagestyle{fancy}
\newpage\input{src/Evaluation.tex}\thispagestyle{fancy}
\newpage\input{src/Improvements.tex}\thispagestyle{fancy}
\newpage\input{src/Conclusion.tex}\thispagestyle{fancy}
\label{LastPage}
\newpage\input{src/Appendix.tex}\thispagestyle{references}
\label{VeryLastPage}

\backcoverpage



\end{document}
